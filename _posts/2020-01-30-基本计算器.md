---
layout:     post
title:      Leecode计算器
subtitle:   224-基本计算器
date:       2020-01-30
author:     WY
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Leecode_hard
    - 数组
    - python
---
实现一个基本的计算器来计算一个简单的字符串表达式的值。

字符串表达式可以包含左括号 ( ，右括号 )，加号 + ，减号 -，非负整数和空格  。
```
def cal(str):
    res =0
    sign =1
    num =0
    stack =[]
    for c in str:
        if c.isdigit():
            num = 10*num+int(c)
        elif c =='-' or c=='+':
            res = res+num*sign
            sign =1 if c=='+' else -1
            num =0
        elif c=='(':
            stack.append(res)
            stack.append(sign)
            sign =1
            res =0
        elif c==')':
            res = res+num*sign
            old_sign = stack.pop()
            old_res =stack.pop()
            res = old_res+ old_sign*res
            sign =1
            num = 0
    res = res+sign*num
    return res

```